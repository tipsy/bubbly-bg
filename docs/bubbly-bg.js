"use strict";window.bubbly=function(t){function o(){d.globalCompositeOperation="source-over",d.fillStyle=h,d.fillRect(0,0,i,l),d.globalCompositeOperation=r.compose||"lighter",u.forEach(function(t){d.beginPath(),d.arc(t.x,t.y,t.r,0,2*Math.PI),d.fillStyle=t.f,d.fill(),t.x+=Math.cos(t.a)*t.v,t.y+=Math.sin(t.a)*t.v,t.x-t.r>i&&(t.x=-t.r),t.x+t.r<0&&(t.x=i+t.r),t.y-t.r>l&&(t.y=-t.r),t.y+t.r<0&&(t.y=l+t.r)}),s=requestAnimationFrame(o)}function e(){a.parentNode.removeChild(a)}var r=t||{},n=function(){return Math.random()},a=r.canvas||document.createElement("canvas"),i=a.width,l=a.height;null===a.parentNode&&(a.setAttribute("style","position:fixed;z-index:-1;left:0;top:0;min-width:100vw;min-height:100vh;"),i=a.width=window.innerWidth,l=a.height=window.innerHeight,document.body.appendChild(a));var d=a.getContext("2d");d.shadowColor=r.shadowColor||"#fff",d.shadowBlur=r.blur||4;var h=d.createLinearGradient(0,0,i,l);h.addColorStop(0,r.colorStart||"#2AE"),h.addColorStop(1,r.colorStop||"#17B");for(var c=r.bubbles||Math.floor(.02*(i+l)),u=[],f=0;f<c;f++)u.push({f:(r.bubbleFunc||function(){return"hsla(0, 0%, 100%, "+.1*n()+")"}).call(),x:n()*i,y:n()*l,r:4+n()*i/25,a:n()*Math.PI*2,v:.1+.5*n()});var s=void 0;return!1!==r.animate&&null!==a.parentNode?(s=requestAnimationFrame(o),function(){cancelAnimationFrame(s),e()}):e};