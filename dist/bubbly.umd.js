!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.bubbly=e()}(this,function(){"use strict";return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=function(){return Math.random()},o=t.canvas||document.createElement("canvas"),n=o.width,r=o.height;null===o.parentNode&&(o.setAttribute("style","position:fixed;z-index:-1;left:0;top:0;min-width:100vw;min-height:100vh;"),n=o.width=window.innerWidth,r=o.height=window.innerHeight,document.body.appendChild(o));var i=o.getContext("2d");i.shadowColor=t.shadowColor||"#fff",i.shadowBlur=t.blur||4;var a=i.createLinearGradient(0,0,n,r);a.addColorStop(0,t.colorStart||"#2AE"),a.addColorStop(1,t.colorStop||"#17B");for(var l=t.bubbles||Math.floor(.02*(n+r)),d=[],f=0;f<l;f++)d.push({f:(t.bubbleFunc||function(){return"hsla(0, 0%, 100%, "+.1*e()+")"}).call(),x:e()*n,y:e()*r,r:4+e()*n/25,a:e()*Math.PI*2,v:.1+.5*e()});!function e(){if(null===o.parentNode)return cancelAnimationFrame(e);!1!==t.animate&&requestAnimationFrame(e),i.globalCompositeOperation="source-over",i.fillStyle=a,i.fillRect(0,0,n,r),i.globalCompositeOperation=t.compose||"lighter",d.forEach(function(t){i.beginPath(),i.arc(t.x,t.y,t.r,0,2*Math.PI),i.fillStyle=t.f,i.fill(),t.x+=Math.cos(t.a)*t.v,t.y+=Math.sin(t.a)*t.v,t.x-t.r>n&&(t.x=-t.r),t.x+t.r<0&&(t.x=n+t.r),t.y-t.r>r&&(t.y=-t.r),t.y+t.r<0&&(t.y=r+t.r)})}()}});
